<!DOCTYPE html>
<html>

<head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

        <title>Nurse's Portal</title>

        <!-- Bootstrap CSS CDN -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
        <!-- Our Custom CSS -->
        <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/loader.css') }}">
        <!-- Font Awesome JS -->
        <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js" integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ" crossorigin="anonymous"></script>
        <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js" integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY" crossorigin="anonymous"></script>

        <style>
            html,
            body {
            height: 100%;
            }

            body {
            display: -ms-flexbox;
            display: -webkit-box;
            display: flex;
            -ms-flex-align: center;
            -ms-flex-pack: center;
            -webkit-box-align: center;
            align-items: center;
            -webkit-box-pack: center;
            justify-content: center;
            padding-top: 40px;
            padding-bottom: 40px;
            background-color: #cec7c7;
            }

            .form-signin {
            width: 100%;
            max-width: 330px;
            padding: 15px;
            margin: 0 auto;
            }
            .form-signin .checkbox {
            font-weight: 400;
            }
            .form-signin .form-control {
            position: relative;
            box-sizing: border-box;
            height: auto;
            padding: 10px;
            font-size: 16px;
            }
            .form-signin .form-control:focus {
            z-index: 2;
            }
            .form-signin input[type="email"] {
            margin-bottom: -1px;
            border-bottom-right-radius: 0;
            border-bottom-left-radius: 0;
            }
            .form-signin input[type="password"] {
            margin-bottom: 10px;
            border-top-left-radius: 0;
            border-top-right-radius: 0;
            }
        </style>
</head>
<body class="text-center" bgcolor="#ffffff">
        <div class="card" style="width: 30rem; height: 28rem;" >
        <div class="card-body">
                {% if "logged_in" not in session %}
                <h1 class="card-title">Log In</h1>
                    <form class="form-signin" action="/authNurse" method="POST">
                        <input type="text" id="nurseId" name="nurseId" class="form-control" placeholder="Nurse ID" required autofocus>
                        <br>
                        <input type="password" id="password" name="nursePassword" class="form-control" placeholder="Password" required>
                        <br>
                        <br>
                        <button class="btn btn-lg btn-primary btn-block" id = "submitButton"type="submit">Sign in</button> <br>
                        <span id="spinner"></span>

                        <script>
                            document.getElementById("submitButton").onclick = function() {
                                if(document.querySelector("#nurseId").value != "") {
                                    if(document.querySelector("#password").value != "") {
                                    document.getElementById("spinner").setAttribute("class", "spinner spinner-large spinner-blue");
                                    }
                                }
                            };
                        </script>
                    </form>
                {% else %}
                <h1 class="card-title">You are already logged in.</h1>
                <br><br>
                <h6>Redirecting you to home screen.</h6>
                <br><br>
                <span class="spinner spinner-large spinner-blue"></span>
                <script>
                  setTimeout(redirect_to_home, 2000)
                  function redirect_to_home(){
                    window.location.replace("/home");
                  }
                </script>
                {% endif %}
            </div>
        </div>
</body>
</html>
