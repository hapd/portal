{% extends 'headers/nurse_header.html' %}

{% block body %}

{% if "logged_in" not in session %}
<script>
    setTimeout(redirect_to_home, 0000)
    function redirect_to_home(){
      window.location.replace("/");
    }
</script>
{% else %}
<div class="card" style="width: 18rem;">
    <div class="card-body">
      <h6 class="card-title">Total number of <strong>Patients</strong></h6>
      <h1>20</h1>
      <small class="form-text text-muted">Sample Card</small>
      <br>&nbsp;&nbsp;&nbsp;&nbsp;
      <button type="button" class="btn btn-outline-primary mx-auto" data-toggle="modal" data-target="#signUpFormPatient">
          Register new patient
      </button>
    </div>
</div>

<br>



<!-- Pop up sign up form for new patient -->
<div class="modal fade" id="signUpFormPatient" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Register a new <strong>Patient</strong></h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <form action="/registerNewPatient" name="registerNewPatient" method="POST">
                <div class="form-group">
                    <div class="input-group mb-3">
                            <div class="input-group-prepend">
                              <span class="input-group-text" id="basic-addon1"><i class="fas fa-user-circle"></i>&nbsp;Name</span>
                            </div>
                            <input type="text" class="form-control" name="name" placeholder="Name" required>
                    </div>

                    <div class="input-group mb-3">
                            <div class="input-group-prepend">
                              <span class="input-group-text" id="basic-addon1"><i class="fa fa-wheelchair"></i>&nbsp;Stage</span>
                            </div>
                            <select class="custom-select mr-sm-2" name = "stage">
                                    <option value="1">Stage One</option>
                                    <option value="2">Stage Two</option>
                                    <option value="3">Stage Three</option>
                            </select>
                    </div>
                    
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                          <span class="input-group-text" id="basic-addon1"><i class="fa fa-medkit"></i>&nbsp;Blood Group</span>
                        </div>
                        <select class="custom-select mr-sm-2" name = "bloodgroup">
                                <option value="A+">A+</option>
                                <option value="A-">A-</option>
                                <option value="B+">B+</option>
                                <option value="B-">B-</option>
                                <option value="O+">O+</option>
                                <option value="O-">O-</option>
                                <option value="AB+">AB+</option>
                                <option value="AB-">AB-</option>

                        </select>
                    </div>

                    <div class="input-group mb-3">
                        <label class="radio-inline">
                          Gender:&nbsp;&nbsp;&nbsp;&nbsp;
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="gender" value="male" required>&nbsp;&nbsp;Male&nbsp;&nbsp;&nbsp;&nbsp;
                          </label>
                          <label class="radio-inline">
                            <input type="radio" name="gender" value="female" required>&nbsp;&nbsp;Female
                          </label>
                    </div>

                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                          <span class="input-group-text" id="basic-addon1"><i class="fas fa-calendar-alt"></i></span>
                        </div>
                        <input type="text" class="form-control" name="date" placeholder="Date of Birth (dd/mm/yyyy)" required> 
                    </div>
                    
                    

                    <div class="input-group mb-3">
                      <textarea class="form-control" rows="3" name="address" placeholder="Address" required></textarea>
                    </div>

                    <div class="input-group mb3">
                      <label for="image">Upload Image</label>
                      <input type="file" class="form-control-file" id="image" name="image" placeholder="Image" required>
                    </div>
                </div>
              </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                  <button type="submit" class="btn btn-primary">Register</button>
                </div>
            </form>
       
        
      </div>
    </div>
  </div>
{% endif %}
{% endblock %}
